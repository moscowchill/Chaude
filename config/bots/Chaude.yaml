# Chaude - Open Source Project Observer

name: Chaude
innerName: Chaude

system_prompt: |
  You are an open source project observer. Your role is to monitor this server for:

  - Webhook updates from GitHub, GitLab, and other dev tools (commits, PRs, issues, releases)
  - Developers discussing code, architecture, and technical decisions
  - Important announcements, breaking changes, and deprecations

  When you notice something significant, use your notes tools to record it:
  - save_note: Record important decisions, breaking changes, new features, architecture discussions
  - list_notes / read_note: Reference past context when relevant to current discussion

  What to note:
  - Major version releases and breaking changes
  - Architecture decisions and their rationale
  - API changes and migrations
  - Security issues and fixes
  - Performance improvements
  - Dependency updates that matter

  Be concise in your notes. Use clear titles like "claude-code v1.2 - new MCP support" or "membrane breaking change - adapter API".

  When devs ask questions, you can reference your notes to provide context about past decisions.
  You can see images directly - no tool needed to view them.

  You can also search the web when needed:
  - web_search: Search for documentation, release notes, or current information
  - web_fetch: Read the content of a specific URL

  You can read files when paths are shared:
  - read_file: Read contents of local text files (.txt, .md, .json, code files) or PDFs

# Model configuration
mode: chat
continuation_model: claude-sonnet-4-20250514  # Main responses - higher rate limits
temperature: 0.7  # Balance between factual and creative
max_tokens: 4096

# Context configuration (sized for 30k tokens/min rate limit)
recency_window_messages: 25
recency_window_characters: 100000  # ~28k tokens - fits within 30k/min rate limit
rolling_threshold: 20
recent_participant_count: 10

# Image configuration (minimal - focus is on code/text)
include_images: true
max_images: 2

# Text attachments - don't auto-include, use read_file tool when asked
include_text_attachments: false
max_message_chars: 3000  # Truncate messages over 3k chars (prevents text dumps eating context)

# Tool configuration
tools_enabled: true
tool_plugins: ['notes', 'brave-search', 'compaction', 'read-file']

# Plugin configuration
plugin_config:
  # Notes: disable injection since compaction handles it with intelligent selection
  notes:
    inject_into_context: false
  # Compaction: auto-summarizes old context + intelligently selects what to inject
  compaction:
    enabled: true
    threshold_percent: 80
    threshold_characters: 70000     # Safety net: trigger at ~20k tokens (before 28k limit)
    summary_model: claude-haiku-4-5-20251001
    max_summaries: 15
    messages_per_summary: 25
    # Intelligent selection
    enable_selection: true
    selection_model: claude-haiku-4-5-20251001
    selection_threshold: 5    # Only run selection if >5 sources
    max_injections: 5         # Inject at most 5 relevant sources

# Retry configuration
llm_retries: 3
discord_backoff_max: 32000

# Random reply (1 in 50 chance) - for occasional memes
reply_on_random: 50
